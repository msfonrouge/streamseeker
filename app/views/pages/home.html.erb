<div id="bg-image">
  <div class="container full-height">
    <div class="text-center">
      <img src="assets/logo.png">
    </div>
    <div class="row d-flex justify-content-center my-3">
      <%= simple_form_for :search, url: root_path, method: :get do |f| %>
        <div class="search-form-control form-group">
          <%= f.input :query, input_html: { class: 'form-control string required my-3', id: 'search_query' }, label: false %>
          <%= button_tag :submit, class: 'btn btn-primary rounded-right top-0 bottom-0 end-0', value: 'Search' do %>
            <i class="fas fa-search"></i> Search
          <% end %>
        </div>
      <% end %>
    </div>
    <div class="genres d-flex flex-wrap " style="row-gap: 5px; column-gap: 15px; opacity: 1; transform: none;">
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Action</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Adventure</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Animation</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Comedy</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Crime</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Documentary</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Drama</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Family</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Fantasy</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">History</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Horror</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Music</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Mystery</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Romance</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Science Fiction</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">TV Movie</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Thriller</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">War</span></h3>
      <h3 style="opacity: 1; transform: none;"><span id="badge" class="badge bg-dark" style="cursor: pointer;">Western</span></h3>
      <%= button_tag :submit, class: 'btn btn-primary', value: 'Search' %>
      <%= button_tag :submit, class: 'btn btn-primary', value: 'Search' %>
      <%= button_tag :submit, class: 'btn btn-primary', value: 'Search' %>
      <%= button_tag :submit, class: 'btn btn-primary', value: 'Search' %>
    </div>
  </div>
</div>
<div class="container d-flex justify-content-center flex-wrap mt-5">
  <% @movies.each do |movie| %>
    <div class="card-trip m-3">
      <% if movie.photo.attached? %> <%= cl_image_tag movie.photo.key, height:
    300, width: 200, crop: :scale, class:"card-img-top"%> <% end %>
      <div class="card-trip-infos col">
        <div>
          <h2><%= movie.title %></h2>
          <p><%= movie.year %></p>
        </div>
      </div>
    </div>
  <% end %>
</div>
<% results = PgSearch.multisearch(params[:search][:query]) if params[:search] && params[:search][:query].present? %>
<% if results %>
  <% results.each do |result| %>
    <% movie = result.searchable %>
    <p><%= movie.title %></p>
    <% if movie.photo.present? %>
      <%= cl_image_tag movie.photo.key, height: 300, width: 200, crop: :scale %>
    <% else %>
      <p>No hay imagen</p>
    <% end %>
  <% end %>
<% end %>
